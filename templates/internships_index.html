{% extends "base.html" %}
{% block title %}Internships â€“ CareerAI{% endblock %}
{% block content %}
<h1 class="text-2xl font-semibold mb-4">Internship Finder</h1>
<form class="glass rounded p-4 mb-4" method="get" action="/internships/search">
  <div class="grid grid-cols-1 md:grid-cols-4 gap-3 items-end">
    <div><label class="block text-sm mb-1">Role</label><input name="role" class="w-full border p-2 rounded" placeholder="Game Designer Intern" value="{{ role or '' }}"/></div>
    <div><label class="block text-sm mb-1">Location</label><input name="location" class="w-full border p-2 rounded" placeholder="London" value="{{ location or '' }}"/></div>
    <div><label class="block text-sm mb-1">Mode</label>
      <select name="mode" class="w-full border p-2 rounded">
        <option value="fast" {% if mode!='deep' %}selected{% endif %}>Fast</option>
        <option value="deep" {% if mode=='deep' %}selected{% endif %}>Deep (Pro)</option>
      </select></div>
    <div><button class="w-full px-4 py-2 bg-purple-600 text-white rounded">Search</button></div>
  </div>
</form>
{% if jobs %}
  <div class="grid gap-3">
    {% for j in jobs %}
      <div class="border rounded p-3">
        <div class="font-semibold">{{ j.title }} <span class="text-sm text-slate-500">@ {{ j.company }}</span></div>
        <div class="text-sm">Match: {{ j.match_score }}%</div>
        {% if j.learning_links %}
          <ul class="list-disc pl-5 text-sm mt-1 space-y-1">
          {% for l in j.learning_links %}<li><a class="underline" target="_blank" href="{{ l.url }}">{{ l.title }}</a></li>{% endfor %}
          </ul>
        {% endif %}
        {% if j.link %}<a class="text-purple-600 underline text-sm" target="_blank" href="{{ j.link }}">Apply</a>{% endif %}
      </div>
    {% endfor %}
  </div>
{% endif %}
{% endblock %}
